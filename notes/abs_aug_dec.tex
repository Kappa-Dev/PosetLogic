\subsection{From augmented posets to decorated posets and back}
\label{sec:abstract_decoration}

\begin{definition}[Abstractions]
  From a causal trace $\theta$ define an \emph{abstraction} function $\mathsf{decoration\_of\_trace}$ that maps a trace into a decorated poset as follows:
  \begin{align*}
    &\mathsf{decoration\_of\_trace}(t_i:M_i\overset{m,p}{\Rightarrow} M_{i+1}) = e_i \\
    &e_i \redl{+}_s e_j \iff t_i <_{\theta}^s t_j, \labl(t_i)\redl{+}_s \labl(t_j)\\
    &e_i \redl{-}_s e_j \iff t_i \dashv_{\theta} t_j, \labl(t_i) \redl{-}_s \labl(t_j).
  \end{align*}
  From an decorated poset $(E,\redl{+},\redl{-},\labl)$ define the abstraction $\alpha'$ that returns the augmented poset $(E,\cover,\prec,\dashv,\labl)$ defined as follows:
  \begin{align*}
    &e\prec e'\iff e\redl{+}_s e'\\
    &e\cover e'\iff e\redl{+}_s e'\text{ and }\nexists e''\text{ s.t. }e\redl{+}_s e'', e''\redl{+}_s e'\\
    &e\dashv e'\iff e\redl{-}_s e'.
  \end{align*}
\end{definition}
